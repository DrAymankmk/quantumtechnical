# Disable directory listing
Options -Indexes

# Disable MultiViews (can cause redirect issues)
Options -MultiViews

# Enable rewrite
RewriteEngine On

# Set correct base
RewriteBase /

# Homepage - only for root directory
DirectoryIndex index.html

# ❌ DO NOT redirect all pages to /
# ❌ DO NOT use SPA fallback rules

# FIRST: If file exists, serve it directly - STOP ALL PROCESSING
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# SECOND: If directory exists, serve it directly - STOP ALL PROCESSING  
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Prevent filesystem path exposure
RewriteCond %{REQUEST_URI} ^/home/
RewriteRule .* - [R=404,L]

# Disable caching (for testing)
<IfModule mod_headers.c>
Header set Cache-Control "no-store, no-cache, must-revalidate, max-age=0"
Header set Pragma "no-cache"
Header set Expires "0"
</IfModule>

